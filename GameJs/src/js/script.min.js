var $start = document.querySelector("#start"), game = document.querySelector("#game"), box = document.createElement("div"), $time = document.querySelector("#time"), score = 0, isGameStarted = !1, timeHeader = document.querySelector("#time-header"), resultHeader = document.querySelector("#result-header"), result = document.querySelector("#result"), inputTime = document.querySelector("#game-time"); function startGame() { score = 0, setGameTime(), inputTime.setAttribute("disabled", "true"), isGameStarted = !0, hide($start), game.style.background = "white"; var t = setInterval(function () { var e = parseFloat($time.textContent); e <= 0 ? (clearInterval(t), endGame()) : $time.textContent = (e - .1).toFixed(1) }, 100); randomBox() } function show(e) { e.classList.remove("hide") } function hide(e) { e.classList.add("hide") } function setGameScore() { result.textContent = score } function setGameTime() { var e = inputTime.value; $time.textContent = e, show(timeHeader), hide(resultHeader) } function endGame() { isGameStarted = !1, inputTime.removeAttribute("disabled"), setGameScore(), show($start), game.innerHTML = "", game.style.background = "#ccc", hide(timeHeader), show(resultHeader) } function getRandomColor() { var e = "0123456789ABCDEF".split(""), t = "#"; for (i = 0; i < 6; i++)t += e[Math.floor(16 * Math.random())]; return t } function randomBox() { game.innerHTML = ""; var e = getRandom(30, 100), t = game.getBoundingClientRect(), r = t.height - e, t = t.width - e; box.style.width = box.style.height = e + "px", box.style.position = "absolute", box.style.background = getRandomColor(), box.style.top = getRandom(0, r) + "px", box.style.left = getRandom(0, t) + "px", box.style.cursor = "pointer", box.setAttribute("data-box", "true"), game.insertAdjacentElement("afterbegin", box) } function handleBoxClick(e) { isGameStarted && e.target.dataset.box && (score++, randomBox()) } function getRandom(e, t) { return Math.floor(Math.random() * (t - e) + e) } inputTime.addEventListener("input", setGameTime), $start.addEventListener("click", startGame), game.addEventListener("click", handleBoxClick);